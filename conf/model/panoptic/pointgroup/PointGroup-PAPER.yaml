# @package model
defaults:
  - /model/panoptic/pointgroup/PointGroup

feat_size: 16
backbone:
  architecture: "unet"
  config:
    class: minkowski.Minkowski_Model
    conv_type: "SPARSE"
    define_constants:
      in_feat: ${models.PointGroup-PAPER.feat_size}
    down_conv:
      module_name: ResNetDown
      dimension: 3
      down_conv_nn:
        [
          [ FEAT, in_feat ],
          [ in_feat, 2*in_feat ],
          [ 2*in_feat, 3*in_feat ],
          [ 3*in_feat, 4*in_feat ],
          [ 4*in_feat, 5*in_feat ],
          [ 5*in_feat, 6*in_feat ],
          [ 6*in_feat, 7*in_feat ],
        ]
      kernel_size: 3
      stride: [ 1, 2, 2, 2, 2, 2, 2 ]
      N: 2
    up_conv:
      module_name: ResNetUp
      dimension: 3
      up_conv_nn:
        [
          [ 7*in_feat, 6*in_feat ],
          [ 2*6*in_feat, 5*in_feat ],
          [ 2*5*in_feat, 4*in_feat ],
          [ 2*4*in_feat, 3*in_feat ],
          [ 2*3*in_feat, 2*in_feat ],
          [ 2*2*in_feat, in_feat ],
          [ 2*in_feat, in_feat ],
        ]
      kernel_size: 3
      stride: [ 2, 2, 2, 2, 2, 2, 1 ]
      N: 2

scorer_unet:
  define_constants:
    in_feat: ${models.PointGroup-PAPER.feat_size}
  down_conv:
    N: 2
  up_conv:
    N: 2

scorer_encoder:
  define_constants:
    in_feat: ${models.PointGroup-PAPER.feat_size}
  down_conv:
    N: 2
